<husk:Page
    x:Class="Avalonia_RA3_Mod__ranslator.Views.Pages.HomePage"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:fi="clr-namespace:FluentIcons.Avalonia;assembly=FluentIcons.Avalonia"
    xmlns:husk="https://github.com/d3ara1n/Huskui.Avalonia"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="1200"
    d:DesignWidth="800"
    IsBackButtonVisible="False"
    mc:Ignorable="d">

	<husk:Page.Resources>
		<CrossFade x:Key="PageTransition" Duration="0:0:0.3" />
	</husk:Page.Resources>

	<DockPanel>
		<!--  Текстовые поля внизу - будут растягиваться  -->

		<!--  Основной контент сверху с прокруткой  -->
		<ScrollViewer DockPanel.Dock="Top">
			<husk:Card Margin="24,24,24,0">
				<StackPanel Margin="24" Spacing="20">

					<!--  Заголовок  -->
					<TextBlock
                        FontSize="{StaticResource LargeFontSize}"
                        FontWeight="{StaticResource ControlStrongFontWeight}"
                        Text="Главная" />

					<!--  Выбор файла mod.str  -->
					<Border Classes="Card" CornerRadius="8">
						<StackPanel Margin="20" Spacing="16">
							<StackPanel
                                Margin="0,0,0,8"
                                Orientation="Horizontal"
                                Spacing="12">
								<fi:SymbolIcon
                                    FontSize="20"
                                    Foreground="{StaticResource ControlAccentInteractiveBackgroundBrush}"
                                    Symbol="Document" />
								<TextBlock
                                    VerticalAlignment="Center"
                                    FontSize="{StaticResource MediumFontSize}"
                                    FontWeight="{StaticResource ControlStrongFontWeight}"
                                    Text="Файл модификации" />
							</StackPanel>
							<Grid
                                ColumnDefinitions="*,Auto"
                                ColumnSpacing="12"
                                RowDefinitions="Auto">
								<TextBox
                                    Grid.Column="0"
                                    VerticalAlignment="Center"
                                    Classes="Filled"
                                    Text="{Binding SelectedModFile}"
                                    TextChanged="ModStrTextChanged"
                                    Watermark="Выберите mod.str файл..." />
								<Button
                                    Grid.Column="1"
                                    VerticalAlignment="Center"
                                    Classes="Primary"
                                    Command="{Binding SelectModFileCommand}"
                                    Content="Обзор"
                                    Theme="{StaticResource OutlineButtonTheme}" />
							</Grid>
						</StackPanel>
					</Border>

					<!--  Настройки перевода  -->
					<Border Classes="Card" CornerRadius="8">
						<StackPanel Margin="20" Spacing="16">
							<StackPanel
                                Margin="0,0,0,8"
                                Orientation="Horizontal"
                                Spacing="12">
								<fi:SymbolIcon
                                    FontSize="20"
                                    Foreground="{StaticResource ControlAccentInteractiveBackgroundBrush}"
                                    Symbol="Settings" />
								<TextBlock
                                    VerticalAlignment="Center"
                                    FontSize="{StaticResource MediumFontSize}"
                                    FontWeight="{StaticResource ControlStrongFontWeight}"
                                    Text="Настройки перевода" />
							</StackPanel>

							<Grid
                                ColumnDefinitions="Auto,*,Auto"
                                ColumnSpacing="16"
                                RowDefinitions="Auto,Auto,Auto,Auto"
                                RowSpacing="16">
								<!--  Выбор переводчика  -->
								<TextBlock
                                    Grid.Row="0"
                                    Grid.Column="0"
                                    MinWidth="100"
                                    VerticalAlignment="Center"
                                    Text="Переводчик:" />
								<ComboBox
                                    Grid.Row="0"
                                    Grid.Column="1"
                                    VerticalAlignment="Center"
                                    DisplayMemberBinding="{Binding Value}"
                                    ItemsSource="{Binding AvailableTranslators}"
                                    SelectedItem="{Binding SelectedTranslator}"
                                    SelectedValueBinding="{Binding Key}" />
								<TextBlock
                                    Grid.Row="0"
                                    Grid.Column="2"
                                    MaxWidth="200"
                                    VerticalAlignment="Center"
                                    FontSize="{StaticResource SmallFontSize}"
                                    Foreground="{StaticResource ControlAccentInteractiveBackgroundBrush}"
                                    Opacity="{StaticResource ControlDimOpacity}"
                                    Text="{Binding SelectedTranslatorDescription}"
                                    TextWrapping="Wrap" />

								<!--  Исходный язык  -->
								<TextBlock
                                    Grid.Row="1"
                                    Grid.Column="0"
                                    MinWidth="100"
                                    VerticalAlignment="Center"
                                    Text="Текущий язык:" />
								<ComboBox
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    VerticalAlignment="Center"
                                    DisplayMemberBinding="{Binding Value}"
                                    ItemsSource="{Binding SupportedSourceLanguages}"
                                    SelectedItem="{Binding SelectedSourceLanguage}"
                                    SelectedValueBinding="{Binding Key}" />

								<!--  Целевой язык  -->
								<TextBlock
                                    Grid.Row="2"
                                    Grid.Column="0"
                                    MinWidth="100"
                                    VerticalAlignment="Center"
                                    Text="Целевой язык:" />
								<ComboBox
                                    Grid.Row="2"
                                    Grid.Column="1"
                                    VerticalAlignment="Center"
                                    DisplayMemberBinding="{Binding Value}"
                                    ItemsSource="{Binding SupportedTargetLanguages}"
                                    SelectedItem="{Binding SelectedTargetLanguage}"
                                    SelectedValueBinding="{Binding Key}" />

								<!--  Кнопка обновления настроек  -->
								<Button
                                    Grid.Row="1"
                                    Grid.RowSpan="2"
                                    Grid.Column="2"
                                    MinWidth="100"
                                    VerticalAlignment="Center"
                                    Classes="Primary"
                                    Command="{Binding UpdateTranslationSettingsCommand}"
                                    Content="Применить"
                                    Theme="{StaticResource OutlineButtonTheme}" />
							</Grid>
						</StackPanel>
					</Border>

					<!--  Прогресс перевода  -->
					<Border Classes="Card" CornerRadius="8">
						<StackPanel Margin="20" Spacing="16">
							<StackPanel
                                Margin="0,0,0,8"
                                Orientation="Horizontal"
                                Spacing="12">
								<fi:SymbolIcon
                                    FontSize="20"
                                    Foreground="{StaticResource ControlAccentInteractiveBackgroundBrush}"
                                    Symbol="ArrowSync" />
								<TextBlock
                                    VerticalAlignment="Center"
                                    FontSize="{StaticResource MediumFontSize}"
                                    FontWeight="{StaticResource ControlStrongFontWeight}"
                                    Text="Прогресс перевода" />
							</StackPanel>
							<StackPanel Spacing="12">
								<ProgressBar
                                    Height="8"
                                    CornerRadius="4"
                                    IsIndeterminate="{Binding IsTranslationInProgress}"
                                    Maximum="100"
                                    Value="{Binding TranslationProgress}" />
								<TextBlock
                                    HorizontalAlignment="Center"
                                    FontSize="{StaticResource SmallFontSize}"
                                    Foreground="{StaticResource ControlAccentInteractiveBackgroundBrush}"
                                    Text="{Binding ProgressText}" />
							</StackPanel>
						</StackPanel>
					</Border>

					<!--  Кнопка перевода  -->
					<Button
                        MinWidth="200"
                        Padding="32,14"
                        HorizontalAlignment="Center"
                        Classes="Primary"
                        Command="{Binding StartTranslationCommand}"
                        Content="Начать перевод"
                        CornerRadius="6"
                        FontSize="{StaticResource MediumFontSize}"
                        FontWeight="{StaticResource ControlStrongFontWeight}"
                        IsEnabled="{Binding CanStartTranslation}" />
				</StackPanel>
			</husk:Card>
		</ScrollViewer>

		<Border
            Margin="24"
            Classes="Card"
            CornerRadius="8"
            DockPanel.Dock="Top">
			<Grid
                Margin="20"
                ColumnDefinitions="*,*"
                ColumnSpacing="16"
                RowDefinitions="Auto,Auto,*"
                RowSpacing="12">
				<!--  Заголовки  -->
				<StackPanel
                    Grid.Row="0"
                    Grid.Column="0"
                    Orientation="Horizontal"
                    Spacing="8">
					<fi:SymbolIcon
                        VerticalAlignment="Center"
                        FontSize="16"
                        Foreground="{StaticResource ControlAccentInteractiveBackgroundBrush}"
                        Symbol="TextAlignLeft" />
					<TextBlock
                        VerticalAlignment="Center"
                        FontWeight="{StaticResource ControlStrongFontWeight}"
                        Text="Оригинальный текст" />
				</StackPanel>

				<StackPanel
                    Grid.Row="0"
                    Grid.Column="1"
                    Orientation="Horizontal"
                    Spacing="8">
					<fi:SymbolIcon
                        VerticalAlignment="Center"
                        FontSize="16"
                        Foreground="{StaticResource ControlAccentInteractiveBackgroundBrush}"
                        Symbol="Translate" />
					<TextBlock
                        VerticalAlignment="Center"
                        FontWeight="{StaticResource ControlStrongFontWeight}"
                        Text="Переведенный текст" />
				</StackPanel>

				<!--  Разделители  -->
				<Border
                    Grid.Row="1"
                    Grid.Column="0"
                    BorderBrush="{StaticResource ControlBorderBrush}"
                    BorderThickness="0,0,0,1" />
				<Border
                    Grid.Row="1"
                    Grid.Column="1"
                    BorderBrush="{StaticResource ControlBorderBrush}"
                    BorderThickness="0,0,0,1" />

				<!--  Текстовые поля  -->
				<TextBox
                    Grid.Row="2"
                    Grid.Column="0"
                    Padding="12"
                    AcceptsReturn="True"
                    Classes="Filled"
                    IsReadOnly="True"
                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                    Text="{Binding OriginalText}"
                    TextWrapping="Wrap" />

				<TextBox
                    Grid.Row="2"
                    Grid.Column="1"
                    Padding="12"
                    AcceptsReturn="True"
                    Classes="Filled"
                    IsReadOnly="True"
                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                    Text="{Binding TranslatedText}"
                    TextWrapping="Wrap" />
			</Grid>
		</Border>

	</DockPanel>
</husk:Page>